<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Japanese Morphological Analyzer: source/src/sentence.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>source/src/sentence.cpp</h1><a href="sentence_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00009"></a>00009 <span class="preprocessor">#include "<a class="code" href="sentence_8h.html" title="Definition of class Sentence.">sentence.h</a>"</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="preprocessor">#include &lt;algorithm&gt;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &lt;cassert&gt;</span>
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 <span class="keyword">namespace </span>jma
<a name="l00015"></a>00015 {
<a name="l00016"></a>00016 
<a name="l00017"></a><a class="code" href="structjma_1_1Morpheme.html#b2a77080894ddd14cedd722f942bfeeb">00017</a> <a class="code" href="structjma_1_1Morpheme.html#b2a77080894ddd14cedd722f942bfeeb" title="Constructor.">Morpheme::Morpheme</a>()
<a name="l00018"></a>00018     : posCode_(-1)
<a name="l00019"></a>00019 {
<a name="l00020"></a>00020 }
<a name="l00021"></a>00021 
<a name="l00022"></a><a class="code" href="structjma_1_1Morpheme.html#311d5545ba1b8fe6474b32c9b75a7ebc">00022</a> <a class="code" href="structjma_1_1Morpheme.html#b2a77080894ddd14cedd722f942bfeeb" title="Constructor.">Morpheme::Morpheme</a>(<span class="keyword">const</span> std::string&amp; lexicon, <span class="keywordtype">int</span> posCode, <span class="keyword">const</span> std::string&amp; posStr, <span class="keyword">const</span> std::string&amp; baseForm, <span class="keyword">const</span> std::string&amp; readForm)
<a name="l00023"></a>00023         : lexicon_(lexicon), posCode_(posCode), posStr_(posStr), baseForm_(baseForm), readForm_(readForm)
<a name="l00024"></a>00024 {
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 }
<a name="l00027"></a>00027 
<a name="l00028"></a><a class="code" href="classjma_1_1Sentence.html#d94ecddc3fc97ce5f932594b1fba31bc">00028</a> <a class="code" href="classjma_1_1Sentence.html#d94ecddc3fc97ce5f932594b1fba31bc" title="Default Constructor.">Sentence::Sentence</a>()
<a name="l00029"></a>00029 {
<a name="l00030"></a>00030 }
<a name="l00031"></a>00031 
<a name="l00032"></a><a class="code" href="classjma_1_1Sentence.html#341fe5727f8e1a387db1559b95388add">00032</a> <a class="code" href="classjma_1_1Sentence.html#d94ecddc3fc97ce5f932594b1fba31bc" title="Default Constructor.">Sentence::Sentence</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* pString)
<a name="l00033"></a>00033 {
<a name="l00034"></a>00034         raw_ = pString;
<a name="l00035"></a>00035 }
<a name="l00036"></a>00036 
<a name="l00037"></a><a class="code" href="classjma_1_1Sentence.html#0fd2ce613ffd831c069f4848ae1b3921">00037</a> <span class="keywordtype">void</span> <a class="code" href="classjma_1_1Sentence.html#0fd2ce613ffd831c069f4848ae1b3921" title="Set the raw sentence string.">Sentence::setString</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* pString)
<a name="l00038"></a>00038 {
<a name="l00039"></a>00039     raw_ = pString;
<a name="l00040"></a>00040     candidates_.clear();
<a name="l00041"></a>00041     scores_.clear();
<a name="l00042"></a>00042 }
<a name="l00043"></a>00043 
<a name="l00044"></a><a class="code" href="classjma_1_1Sentence.html#4862afad8be7fb0b3a535530866919c5">00044</a> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classjma_1_1Sentence.html#4862afad8be7fb0b3a535530866919c5" title="Get the raw sentence string.">Sentence::getString</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l00045"></a>00045 <span class="keyword"></span>{
<a name="l00046"></a>00046     <span class="keywordflow">return</span> raw_.c_str();
<a name="l00047"></a>00047 }
<a name="l00048"></a>00048 
<a name="l00049"></a><a class="code" href="classjma_1_1Sentence.html#de01e7b78bdd444c8aee9f7c8811f866">00049</a> <span class="keywordtype">int</span> <a class="code" href="classjma_1_1Sentence.html#de01e7b78bdd444c8aee9f7c8811f866" title="Get the number of candidates of morphological analysis result.">Sentence::getListSize</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l00050"></a>00050 <span class="keyword"></span>{
<a name="l00051"></a>00051     <span class="keywordflow">return</span> candidates_.size();
<a name="l00052"></a>00052 }
<a name="l00053"></a>00053 
<a name="l00054"></a><a class="code" href="classjma_1_1Sentence.html#e172a5c08af01b9c86303527a9f2c862">00054</a> <span class="keywordtype">int</span> <a class="code" href="classjma_1_1Sentence.html#e172a5c08af01b9c86303527a9f2c862" title="Get the number of morphemes in candidate result nPos.">Sentence::getCount</a>(<span class="keywordtype">int</span> nPos)<span class="keyword"> const</span>
<a name="l00055"></a>00055 <span class="keyword"></span>{
<a name="l00056"></a>00056     <span class="keywordflow">return</span> candidates_[nPos].size();
<a name="l00057"></a>00057 }
<a name="l00058"></a>00058 
<a name="l00059"></a><a class="code" href="classjma_1_1Sentence.html#4fccc2740041dcefce9da5c495d885b9">00059</a> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classjma_1_1Sentence.html#4fccc2740041dcefce9da5c495d885b9" title="Get the string of morpheme nIdx in candidate result nPos.">Sentence::getLexicon</a>(<span class="keywordtype">int</span> nPos, <span class="keywordtype">int</span> nIdx)<span class="keyword"> const</span>
<a name="l00060"></a>00060 <span class="keyword"></span>{
<a name="l00061"></a>00061     <span class="keywordflow">return</span> candidates_[nPos][nIdx].lexicon_.c_str();
<a name="l00062"></a>00062 }
<a name="l00063"></a>00063 
<a name="l00064"></a><a class="code" href="classjma_1_1Sentence.html#e15a28b2a9aaad092d1f347b40d77be6">00064</a> <span class="keywordtype">int</span> <a class="code" href="classjma_1_1Sentence.html#e15a28b2a9aaad092d1f347b40d77be6" title="Get the POS index code of morpheme nIdx in candidate result nPos.">Sentence::getPOS</a>(<span class="keywordtype">int</span> nPos, <span class="keywordtype">int</span> nIdx)<span class="keyword"> const</span>
<a name="l00065"></a>00065 <span class="keyword"></span>{
<a name="l00066"></a>00066     <span class="keywordflow">return</span> candidates_[nPos][nIdx].posCode_;
<a name="l00067"></a>00067 }
<a name="l00068"></a>00068 
<a name="l00069"></a><a class="code" href="classjma_1_1Sentence.html#bc976e1653bdf36828773c44848c052c">00069</a> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classjma_1_1Sentence.html#bc976e1653bdf36828773c44848c052c" title="Get the POS string of morpheme nIdx in candidate result nPos.">Sentence::getStrPOS</a>(<span class="keywordtype">int</span> nPos, <span class="keywordtype">int</span> nIdx)<span class="keyword"> const</span>
<a name="l00070"></a>00070 <span class="keyword"></span>{
<a name="l00071"></a>00071     <span class="keywordflow">return</span> candidates_[nPos][nIdx].posStr_.c_str();
<a name="l00072"></a>00072 }
<a name="l00073"></a>00073 
<a name="l00074"></a><a class="code" href="classjma_1_1Sentence.html#7f4bacbe2a91f490473103a376a875cc">00074</a> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classjma_1_1Sentence.html#7f4bacbe2a91f490473103a376a875cc" title="Get the base form string of morpheme nIdx in candidate result nPos.">Sentence::getBaseForm</a>(<span class="keywordtype">int</span> nPos, <span class="keywordtype">int</span> nIdx)<span class="keyword"> const</span>
<a name="l00075"></a>00075 <span class="keyword"></span>{
<a name="l00076"></a>00076     <span class="keywordflow">return</span> candidates_[nPos][nIdx].baseForm_.c_str();
<a name="l00077"></a>00077 }
<a name="l00078"></a>00078 
<a name="l00079"></a><a class="code" href="classjma_1_1Sentence.html#9e817f445d9fb8b621ee55eda8607b0e">00079</a> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classjma_1_1Sentence.html#9e817f445d9fb8b621ee55eda8607b0e" title="Get the reading form string of morpheme nIdx in candidate result nPos.">Sentence::getReadForm</a>(<span class="keywordtype">int</span> nPos, <span class="keywordtype">int</span> nIdx)<span class="keyword"> const</span>
<a name="l00080"></a>00080 <span class="keyword"></span>{
<a name="l00081"></a>00081     <span class="keywordflow">return</span> candidates_[nPos][nIdx].readForm_.c_str();
<a name="l00082"></a>00082 }
<a name="l00083"></a>00083 
<a name="l00084"></a><a class="code" href="classjma_1_1Sentence.html#6984e3efe19bc7ebdc1d332548208245">00084</a> <span class="keyword">const</span> <a class="code" href="namespacejma.html#ff7f5fa8fd6141ceff592dd054a6ec54" title="A list of morphemes.">MorphemeList</a>* <a class="code" href="classjma_1_1Sentence.html#6984e3efe19bc7ebdc1d332548208245" title="Get the MorphemeList of candidate result nPos.">Sentence::getMorphemeList</a>(<span class="keywordtype">int</span> nPos)<span class="keyword"> const</span>
<a name="l00085"></a>00085 <span class="keyword"></span>{
<a name="l00086"></a>00086         <span class="keywordflow">return</span> &amp;candidates_[nPos];
<a name="l00087"></a>00087 }
<a name="l00088"></a>00088 
<a name="l00089"></a><a class="code" href="classjma_1_1Sentence.html#a0a95c4afc6f0cd5289a1cdb56cfd800">00089</a> <span class="keywordtype">double</span> <a class="code" href="classjma_1_1Sentence.html#a0a95c4afc6f0cd5289a1cdb56cfd800" title="Get the score of candidate result nPos.">Sentence::getScore</a>(<span class="keywordtype">int</span> nPos)<span class="keyword"> const</span>
<a name="l00090"></a>00090 <span class="keyword"></span>{
<a name="l00091"></a>00091     <span class="keywordflow">return</span> scores_[nPos];
<a name="l00092"></a>00092 }
<a name="l00093"></a>00093 
<a name="l00094"></a><a class="code" href="classjma_1_1Sentence.html#5ddf7a0d1a52be029dcc298a0c75f8a0">00094</a> <span class="keywordtype">void</span> <a class="code" href="classjma_1_1Sentence.html#5ddf7a0d1a52be029dcc298a0c75f8a0" title="Set the score of candidate result nPos.">Sentence::setScore</a>(<span class="keywordtype">int</span> nPos, <span class="keywordtype">double</span> nScore)
<a name="l00095"></a>00095 {
<a name="l00096"></a>00096         scores_[nPos] = nScore;
<a name="l00097"></a>00097 }
<a name="l00098"></a>00098 
<a name="l00099"></a><a class="code" href="classjma_1_1Sentence.html#ba988d341b198d47b75d93d93237e5d9">00099</a> <span class="keywordtype">int</span> <a class="code" href="classjma_1_1Sentence.html#ba988d341b198d47b75d93d93237e5d9" title="Get the index of the candidate result, which has the highest score.">Sentence::getOneBestIndex</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l00100"></a>00100 <span class="keyword"></span>{
<a name="l00101"></a>00101     <span class="keywordflow">if</span>(scores_.empty())
<a name="l00102"></a>00102         <span class="keywordflow">return</span> -1;
<a name="l00103"></a>00103 
<a name="l00104"></a>00104     assert(scores_.size() &gt; 0 &amp;&amp; scores_.size() == candidates_.size());
<a name="l00105"></a>00105 
<a name="l00106"></a>00106     <span class="keywordflow">return</span> std::max_element(scores_.begin(), scores_.end()) - scores_.begin();
<a name="l00107"></a>00107 }
<a name="l00108"></a>00108 
<a name="l00109"></a><a class="code" href="classjma_1_1Sentence.html#3dee10558f305324be633d54fe5f3e08">00109</a> <span class="keywordtype">void</span> <a class="code" href="classjma_1_1Sentence.html#3dee10558f305324be633d54fe5f3e08" title="Add a candidate result of morphological analysis.">Sentence::addList</a>(<span class="keyword">const</span> <a class="code" href="namespacejma.html#ff7f5fa8fd6141ceff592dd054a6ec54" title="A list of morphemes.">MorphemeList</a>&amp; morphemeList, <span class="keywordtype">double</span> score)
<a name="l00110"></a>00110 {
<a name="l00111"></a>00111     candidates_.push_back(morphemeList);
<a name="l00112"></a>00112     scores_.push_back(score);
<a name="l00113"></a>00113 }
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 } <span class="comment">// namespace jma</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Feb 10 18:03:24 2010 for Japanese Morphological Analyzer by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
