<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Japanese Morphological Analyzer: source/libmecab/connector.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>source/libmecab/connector.h</h1><a href="connector_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// MeCab -- Yet Another Part-of-Speech and Morphological Analyzer</span>
<a name="l00002"></a>00002 <span class="comment">//</span>
<a name="l00003"></a>00003 <span class="comment">//  $Id: connector.h 173 2009-04-18 08:10:57Z taku-ku $;</span>
<a name="l00004"></a>00004 <span class="comment">//</span>
<a name="l00005"></a>00005 <span class="comment">//  Copyright(C) 2001-2006 Taku Kudo &lt;taku@chasen.org&gt;</span>
<a name="l00006"></a>00006 <span class="comment">//  Copyright(C) 2004-2006 Nippon Telegraph and Telephone Corporation</span>
<a name="l00007"></a>00007 <span class="preprocessor">#ifndef MECAB_CONNECTOR_H</span>
<a name="l00008"></a>00008 <span class="preprocessor"></span><span class="preprocessor">#define MECAB_CONNECTOR_H</span>
<a name="l00009"></a>00009 <span class="preprocessor"></span>
<a name="l00010"></a>00010 <span class="preprocessor">#include "<a class="code" href="mecab_8h.html">mecab.h</a>"</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include "<a class="code" href="common_8h.html">common.h</a>"</span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="keyword">namespace </span>MeCab {
<a name="l00014"></a>00014 <span class="keyword">class </span>Param;
<a name="l00015"></a>00015 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">class </span>Mmap;
<a name="l00016"></a>00016 
<a name="l00017"></a><a class="code" href="classMeCab_1_1Connector.html">00017</a> <span class="keyword">class </span><a class="code" href="classMeCab_1_1Connector.html">Connector</a> {
<a name="l00018"></a>00018  <span class="keyword">private</span>:
<a name="l00019"></a>00019   <a class="code" href="classMeCab_1_1Mmap.html">Mmap&lt;short&gt;</a>    *cmmap_;
<a name="l00020"></a>00020   <span class="keywordtype">short</span>          *matrix_;
<a name="l00021"></a>00021   <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>  lsize_;
<a name="l00022"></a>00022   <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>  rsize_;
<a name="l00023"></a>00023   <a class="code" href="structMeCab_1_1whatlog.html">whatlog</a>         what_;
<a name="l00024"></a>00024 
<a name="l00025"></a>00025  <span class="keyword">public</span>:
<a name="l00026"></a>00026 
<a name="l00027"></a>00027   <span class="keywordtype">bool</span> <a class="code" href="classMeCab_1_1Connector.html#313a0aef33e1ff8f57d50147f0ffc0bc">open</a>(<span class="keyword">const</span> <a class="code" href="classMeCab_1_1Param.html">Param</a> &amp;param);
<a name="l00028"></a>00028   <span class="keywordtype">void</span> <a class="code" href="classMeCab_1_1Connector.html#d0a987699546264e36a60968a1559fc0">close</a>();
<a name="l00029"></a><a class="code" href="classMeCab_1_1Connector.html#f0d54145ca185999ed0cbed020e8b731">00029</a>   <span class="keywordtype">void</span> <a class="code" href="classMeCab_1_1Connector.html#f0d54145ca185999ed0cbed020e8b731">clear</a>() {}
<a name="l00030"></a>00030 
<a name="l00031"></a><a class="code" href="classMeCab_1_1Connector.html#e3691c800b39b03c1643689516ae29d6">00031</a>   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classMeCab_1_1Connector.html#e3691c800b39b03c1643689516ae29d6">what</a>() { <span class="keywordflow">return</span> what_.<a class="code" href="structMeCab_1_1whatlog.html#295ec045db36b234b11c9a93122da42b">str</a>(); }
<a name="l00032"></a>00032 
<a name="l00033"></a><a class="code" href="classMeCab_1_1Connector.html#26f80cf1d13ff91a52fcfeffe83bc078">00033</a>   <span class="keywordtype">size_t</span> <a class="code" href="classMeCab_1_1Connector.html#26f80cf1d13ff91a52fcfeffe83bc078">left_size</a>()<span class="keyword">  const </span>{ <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(lsize_); }
<a name="l00034"></a><a class="code" href="classMeCab_1_1Connector.html#9c1d0d3c4a57ac9ba6b1a5265d346bc4">00034</a>   <span class="keywordtype">size_t</span> <a class="code" href="classMeCab_1_1Connector.html#9c1d0d3c4a57ac9ba6b1a5265d346bc4">right_size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(rsize_); }
<a name="l00035"></a>00035 
<a name="l00036"></a><a class="code" href="classMeCab_1_1Connector.html#4b038825e8bdacc31b44c68eea0594a6">00036</a>   <span class="keywordtype">void</span> <a class="code" href="classMeCab_1_1Connector.html#4b038825e8bdacc31b44c68eea0594a6">set_left_size</a>(<span class="keywordtype">size_t</span> lsize)  { lsize_ = lsize; }
<a name="l00037"></a><a class="code" href="classMeCab_1_1Connector.html#41b9cdbc2d365d0d0ec4c174ac080619">00037</a>   <span class="keywordtype">void</span> <a class="code" href="classMeCab_1_1Connector.html#41b9cdbc2d365d0d0ec4c174ac080619">set_right_size</a>(<span class="keywordtype">size_t</span> rsize) { rsize_ = rsize; }
<a name="l00038"></a>00038 
<a name="l00039"></a><a class="code" href="classMeCab_1_1Connector.html#114dcd8c7bffb697b23c3b5a6996f4af">00039</a>   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classMeCab_1_1Connector.html#114dcd8c7bffb697b23c3b5a6996f4af">cost</a>(<span class="keyword">const</span> Node *lNode, <span class="keyword">const</span> Node *rNode)<span class="keyword"> const </span>{
<a name="l00040"></a>00040     <span class="keywordflow">return</span> matrix_[ lNode-&gt;rcAttr + lsize_ * rNode-&gt;lcAttr ] + rNode-&gt;wcost;
<a name="l00041"></a>00041   }
<a name="l00042"></a>00042 
<a name="l00043"></a>00043   <span class="comment">// access to raw matrix</span>
<a name="l00044"></a><a class="code" href="classMeCab_1_1Connector.html#0cab75cdd99c33daa3cbfbff66ed0ec6">00044</a>   <span class="keywordtype">short</span> *<a class="code" href="classMeCab_1_1Connector.html#0cab75cdd99c33daa3cbfbff66ed0ec6">mutable_matrix</a>() { <span class="keywordflow">return</span> &amp;matrix_[0]; }
<a name="l00045"></a><a class="code" href="classMeCab_1_1Connector.html#049e2b206597ec88dfbb337a72ed1117">00045</a>   <span class="keyword">const</span> <span class="keywordtype">short</span> *<a class="code" href="classMeCab_1_1Connector.html#049e2b206597ec88dfbb337a72ed1117">matrix</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> &amp;matrix_[0]; }
<a name="l00046"></a>00046 
<a name="l00047"></a>00047   <span class="keywordtype">bool</span> <a class="code" href="classMeCab_1_1Connector.html#0c2eee2fdf8f13b1ec6d1a4e540c4434">openText</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename);
<a name="l00048"></a>00048   <span class="keywordtype">bool</span> <a class="code" href="classMeCab_1_1Connector.html#313a0aef33e1ff8f57d50147f0ffc0bc">open</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename, <span class="keyword">const</span> <span class="keywordtype">char</span> *mode = <span class="stringliteral">"r"</span>);
<a name="l00049"></a>00049 
<a name="l00050"></a><a class="code" href="classMeCab_1_1Connector.html#946df66f91f08b1336f8cef079fca11f">00050</a>   <span class="keywordtype">bool</span> <a class="code" href="classMeCab_1_1Connector.html#946df66f91f08b1336f8cef079fca11f">is_valid</a>(<span class="keywordtype">size_t</span> lid, <span class="keywordtype">size_t</span> rid)<span class="keyword"> const </span>{
<a name="l00051"></a>00051     <span class="keywordflow">return</span> (lid &gt;= 0 &amp;&amp; lid &lt; rsize_ &amp;&amp; rid &gt;= 0 &amp;&amp; rid &lt; lsize_);
<a name="l00052"></a>00052   }
<a name="l00053"></a>00053 
<a name="l00054"></a>00054   <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classMeCab_1_1Connector.html#c84d6c1b4dd8bc27c0d7fb0e3c08241f">compile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00055"></a>00055 
<a name="l00056"></a><a class="code" href="classMeCab_1_1Connector.html#6a5c12c430997fdda0af03e0accbb36c">00056</a>   <span class="keyword">explicit</span> <a class="code" href="classMeCab_1_1Connector.html#6a5c12c430997fdda0af03e0accbb36c">Connector</a>():
<a name="l00057"></a>00057       cmmap_(0), matrix_(0), lsize_(0), rsize_(0) {}
<a name="l00058"></a>00058 
<a name="l00059"></a><a class="code" href="classMeCab_1_1Connector.html#2ed9e447671450a7505ddf17f49b4983">00059</a>   <span class="keyword">virtual</span> <a class="code" href="classMeCab_1_1Connector.html#2ed9e447671450a7505ddf17f49b4983">~Connector</a>() { this-&gt;<a class="code" href="classMeCab_1_1Connector.html#d0a987699546264e36a60968a1559fc0">close</a>(); }
<a name="l00060"></a>00060 };
<a name="l00061"></a>00061 }
<a name="l00062"></a>00062 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Feb 10 18:03:23 2010 for Japanese Morphological Analyzer by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
